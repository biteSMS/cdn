[Answer 1:]

#include <stdio.h>
#define N 3
int main() {
  int i, j, sum = 0, s1 = 0, s2 = 0;
  int a[N][N];
  for (i = 0; i < N; i++) {
    for (j = 0; j < N; j++) {
      scanf("%d", &a[i][j]);
    }
  }
  for (i = 0, j = 0; i < N; i++) {
    sum += a[i][j];
  }
  for (i = 0; i < N; i++) {
    for (j = 0; j < N; j++) {
      s1 += a[i][j];
      s2 += a[j][i];
    }
    if (s1 != sum || s2 != sum)
      break;
    s1 = 0;
    s2 = 0;
  }
  if (i != 3 || j != 3) {
    printf("It is not a magic square!\n");
    return 0;
  }
  for (i = 0; i < N; i++) {
    s1 += a[i][i];
    s2 += a[i][2 - i];
  }
  if (s1 != sum || s2 != sum) {
    printf("It is not a magic square!\n");
  } else {
    printf("It is a magic square!\n");
    for (i = 0; i < N; i++) {
      for (j = 0; j < N; j++) {
        printf("%4d", a[i][j]);
      }
      printf("\n");
    }
  }
  return 0;
}


[1 answers found]