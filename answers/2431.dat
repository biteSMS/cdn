[Answer 1:]

#include <stdio.h>
#define N 10

void CC(int a[][N], int n) {
  int i, j, k, flag = 1;
  int b[22] = {0};
  for (i = 0; i < n; i++) {
    for (j = 0; j < n; j++) {
      b[i] += a[i][j];
    }
  }
  for (i = 0, k = n; i < n; i++, k++) {
    for (j = 0; j < n; j++) {
      b[k] += a[j][i];
    }
  }
  for (i = 0; i < n; i++) {
    b[n * 2] += a[i][i];
  }
  for (i = 0; i < n; i++) {
    b[n * 2 + 1] += a[i][n - i - 1];
  }
  for (i = 1; i < (2 * n + 2); i++) {
    if (b[i] != b[0]) {
      flag = 0;
      break;
    }
  }
  if (1 == flag) {
    printf("该矩阵为魔方矩阵！");
  } else {
    printf("该矩阵不是魔方阵！\n");
  }
}
int main() {
  int a[N][N];
  int n, i, j;
  printf("请输入矩阵的阶数（<=10）：");
  scanf("%d", &n);
  printf("请输入矩阵：\n");
  for (i = 0; i < n; i++) {
    for (j = 0; j < n; j++) {
      printf("a[%d][%d]：", i, j);
      scanf("%d", &a[i][j]);
    }
  }
  CC(a, n);
  return 0;
}

[Answer 2:]

#include <stdio.h>
#include <stdlib.h>
int main() {
  int a[10][10], i, j, n, *p;
  int flag = 1;

  printf("请输入矩阵的阶数（<=10）：");
  scanf("%d", &n);

  printf("请输入矩阵：\n", n, n);

  for (i = 0; i < n; i++) {
    for (j = 0; j < n; j++) {
      printf("a[%d][%d]：", i, j);
      scanf("%d", *(a + i) + j);
    }
  }

  p = (int *)malloc((2 * n + 2) * sizeof(int));
  if (p == NULL) {
    printf("No enough memory!\n");
    exit(1);
  }

  for (i = 0; i < 2 * n + 2; i++)
    *(p + i) = 0;

  for (i = 0; i < n; i++) {
    for (j = 0; j < n; j++) {
      *(p + i) += a[i][j];
    }
  }

  for (j = 0; j < n; j++) {
    for (i = 0; i < n; i++) {
      *(p + n + j) += a[i][j];
    }
  }
  for (i = 0; i < n; i++) {
    *(p + 2 * n) += a[i][i];
  }

  for (i = 0; i < n; i++)
    *(p + 2 * n + 1) += a[i][n - 1 - i];

  for (i = 1; i < 2 * n + 2; i++) {
    if (*p != *(p + i))
      flag = 0;
  }

  if (flag == 1)
    printf("该矩阵为魔方矩阵！");
  else
    printf("该矩阵不是魔方阵！\n");

  free(p);

  return 0;
}


[2 answers found]