[Answer 1:]

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
void main() {
  int num, i, j, n, a[15][15], hang, lei;
  printf("请输入n（0<n<=15，n是奇数）：");
  scanf("%d", &n);
  printf("\n矩阵阶数是：%d\n", n);
  num = n * n;
  for (i = 0; i < n; i++) {
    for (j = 0; j < n; j++) {
      a[i][j] = 0;
    }
  }
  a[0][n / 2] = 1;
  hang = 0;
  lei = n / 2;
  for (i = 2; i <= num; i++) {
    if (a[(hang + n - 1) % n][(lei + 1) % n] == 0) {
      a[(hang + n - 1) % n][(lei + 1) % n] = i;
      hang = (hang + n - 1) % n;
      lei = (lei + 1 + n) % n;

    } else {
      a[(hang + n + 1) % n][lei] = i;
      hang = (hang + n + 1) % n;
      lei = lei;
    }
  }
  for (i = 0; i < n; i++) {
    for (j = 0; j < n; j++)

      printf("%3d", a[i][j]);
    putchar('\n');
  }
}

[Answer 2:]

#include <stdio.h>
int main() {
  int a[15][15], i, j, k, p, n;
  p = 1;
  while (p == 1) {
    printf("请输入n（0<n<=15，n是奇数）：\n");
    scanf("%d", &n);
    if ((n != 0) && (n <= 15) && (n % 2 != 0)) {
      p = 0;
    }
  }
  for (i = 1; i <= n; i++) {
    for (j = 1; j <= n; j++) {
      a[i][j] = 0;
    }
  }
  j = n / 2 + 1;
  a[1][j] = 1;
  for (k = 2; k <= n * n; k++) {
    i = i - 1;
    j = j + 1;
    if ((i < 1) && (j > n)) {
      i = i + 2;
      j = j - 1;
    } else {
      if (i < 1) {
        i = n;
      }
      if (j > n) {
        j = 1;
      }
    }
    if (a[i][j] == 0) {
      a[i][j] = k;
    } else {
      i = i + 2;
      j = j - 1;
      a[i][j] = k;
    }
  }
  printf("矩阵阶数是：%d\n", n);
  for (i = 1; i <= n; i++) {
    for (j = 1; j <= n; j++) {
      printf("%3d", a[i][j]);
    }
    printf("\n");
  }
  return 0;
}

[Answer 3:]

#include <stdio.h>

int main() {
  int a[16][16], i, j, k, p, m, n;

  /* 初始化 */
  p = 1;
  while (p == 1) {
    printf("请输入n（0<n<=15，n是奇数）：\n");
    scanf("%d", &n);
    if ((n != 0) && (n <= 15) && (n % 2 != 0)) {
      printf("矩阵阶数是：%d\n", n);
      p = 0;
    }
  }

  for (i = 1; i <= n; i++) {
    for (j = 1; j <= n; j++) {
      a[i][j] = 0;
    }
  }
  /* 建立魔方 */
  j = n / 2 + 1;
  a[1][j] = 1;
  for (k = 2; k <= n * n; k++) {
    i = i - 1;
    j = j + 1;
    if ((i < 1) && (j > n)) {
      i = i + 2;
      j = j - 1;
    } else {
      if (i < 1) {
        i = n;
      }
      if (j > n) {
        j = 1;
      }
    }
    if (a[i][j] == 0) {
      a[i][j] = k;
    } else {
      i = i + 2;
      j = j - 1;
      a[i][j] = k;
    }
  }

  /* 输出 */
  for (i = 1; i <= n; i++) {
    for (j = 1; j <= n; j++) {
      printf("%3d", a[i][j]);
    }
    printf("\n");
  }

  return 0;
}

[Answer 4:]

#include <stdio.h>
#include <stdlib.h>
#define SIZE 15
int main() {
  int arr[SIZE][SIZE] = {0};
  int i, j, k, n;
  printf("请输入n（0<n<=15，n是奇数）：\n");
  scanf("%d", &n);
  printf("矩阵阶数是：%d\n", n);
  i = 0;
  j = (n - 1) / 2;
  arr[i][j] = 1;
  for (k = 2; k <= n * n; k++) {
    if (i != 0) {
      i--;
      if (j != n - 1) {
        j++;
      } else {
        j = 0;
      }
    } else {
      i = n - 1;
      if (j != n - 1) {
        j++;
      } else {
        j = 0;
      }
    }
    if (i == n - 1 && j == 0) {
      i = 1;
      j = n - 1;
      arr[i][j] = k;
    } else if (arr[i][j] != 0) {
      i += 2;
      j--;
      arr[i][j] = k;
    } else
      arr[i][j] = k;
  }
  for (i = 0; i < n; i++) {
    for (j = 0; j < n; j++)
      printf("%3d", arr[i][j]);
    printf("\n");
  }
  return 0;
}


[4 answers found]